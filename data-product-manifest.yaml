---
version: 0.1.0
alias: SCD2_testing_manifest_changes_Test_15_June_Test1
discoveryPort:
  name: SCD2 changes implementation Verification 15 June Test 1 for CSV
  shortDescription: Weather Forecast of the next 7 days for ahmedabad city
  longDescription: Weather Forecast of the next 7 days for ahmedabad city along with the accuracy of the previous forecast
  tags:
    - Madrid
    - House Rental
  domain: ['Finance']
  function: ['Forecast']
  regulatoryFields:
    dataPrivacy: public
    customerInfo: nonPII
    dataOrigin: machineGenerated
    monetaryInfo: nonFinancialData
inputPorts:
  - alias: Test0001_input_port
    description: scdcheck
    type: s3-csv
    tags: []
    syncType: pull
    connectionUrn: urn:dv:connection:9fd86a41-6a34-4073-a508-337dccb711f1
    dataSet:
      path: s3://dataverse-byte/sample-data/inputData/demo/demo_update2.csv
      advanceOptions:
        delimiter: ','
        header: true
        inferSchema: true
        dateFormat: 'yyyy-dd-MM'
        multiline: true
      filter: ""
      projection:
        - id
        - name
        - marks
        - modified
productState:
  updateType: 'scheduled'
  updateSchedule: "*/01 * * * *"
  updateStrategy: scd2
  logicalSchema:
    properties:
      id:
        type: number
      name:
        type: String
      marks:
        type: number
      modified:
        type: datetime
  updateStrategyOptions:
    uniqueKeyColumns:
        - id
    changeTrackingColumns:
        - marks
    timeTrackingColumn: modified
transformation:
  - alias: Test0001_input_port_trans
    description: step_1
    type: sql
    sequenceNo: 1
    stepName: one
    query: SELECT * FROM Test0001_input_port
    references:
      - alias: Test0001_input_port
        sqlReference: Test0001_input_port
outputPort:
  subscriptionChannels:
    - channelType: rest-api
      queryType: sql
